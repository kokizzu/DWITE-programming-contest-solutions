<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
	<head>
		<meta charset="UTF-8"/>
		<title>DWITE • February 2009 • Nash in Traffic</title>
		<link rel="stylesheet" href="style.css" type="text/css"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
	</head>
	<body>
		<header>
			<h1>DWITE Online Computer Programming Contest</h1>
			<div>
				<h2>Nash in Traffic</h2>
				<div>
					<div><time datetime="2009-02">February 2009</time></div>
					<div>Problem 5</div>
				</div>
			</div>
		</header>
		<article>
			<p>John Forbes Nash <abbr title="Junior">Jr.</abbr> had organized his friends to attend a computer science related conference at some interesting location, but now they must all return back to their homes (presumably at a less interesting location). Everybody is driving on their own, and there are enough people in the group such that having everybody take the same route would cause congestion and slow everyone down. Luckily there are multiple routes so that the traffic could be split between the network of roads, ensuring that everybody gets back home equally fast.</p>
			<p>In every test set, the start city is A and end city is Z. There will be at least 2 people involved.</p>
			<p>The input file <strong>DATA5.txt</strong> will contain 5 sets of input. The first line will contain an integer, 2 ≤ <var>p</var> ≤ 1000 denoting the number of people on a trip. The second line will say how many lines of input are to follow, 1 ≤ <var>n</var> ≤ 10. The next <var>n</var> lines describe the roads available.</p>
			<p>Each road’s description is in the format <strong>AB expression</strong>. The flow is directional from node A to node B (can’t backtrack or drive in reverse), and the <var>expression</var> describes the amount of time it will take to complete this segment. Some roads, which are prone to congestion of traffic, might have a variable <strong>x</strong> in their <em>expression</em>, which stands for the number of people who choose to take this particular route.</p>
			<p><em>For example:</em> <strong>AB 1+x/100</strong> – this route will take 1.01 amount of time if one person takes it, and 2.0 if 100 people do. There will be no roads that will take negative time to move across. Supported operations are +, -, *, /. There will be no brackets in expressions. Remember that multiplication and division come before addition and subtraction (order of operations).</p>
			<p>The output file <strong>OUT5.txt</strong> will contain 5 lines of output – the optimal time it would take to get everyone from A to Z. <em>Round your answers to the nearest integer.</em></p>
			<section class="sample">
				<div class="input">
					Sample Input (first two shown):
					<pre><span>100
2
AB 2
BZ 1+x/50
200
4
AB 1.5
AC 2.5
BZ 1+x/100
CZ 1+x/100</span></pre>
				</div>
				<div class="output">
					Sample Output (first two shown):
					<pre><span>5
4</span></pre>
				</div>
			</section>
			<p><em>Explanation of the sample inputs:</em> In the first case, there is only one path to be taken A→B→Z, so the time is 2 + (1+100/50) = 5. In the second case, there are two choices: A→B→Z and A→C→Z. The optimal strategy is to split the group 150:50 to get 1.5 + (1 + 150/100) = 4 or 2.5 + (1 + 50/100) = 4 drive time. To help you better visualize the second sample case, here’s a diagram of it:</p>
			<img src="data:image/png;base64,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" alt="sample input rendered as a directional graph" class="block left"/>
			<p><em>Remember to round your output to integer values.</em></p>
			<p><em>Hint:</em> Everybody gets to Z <em>at the same time</em>.</p>
		</article>
	</body>
</html>
