<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>DWITE • November 2011 • Portals Check</title>
		<link rel="Stylesheet" href="stylish.css" type="text/css">
	</head>
	<body>
		<header>
			<h1>DWITE Online Computer Programming Contest</h1>
			<div>
				<h2>Portals Check</h2>
				<div>
					<div>November 2011</div>
					<div>Problem 5</div>
				</div>
			</div>
		</header>
		<p>Scientists have finally discovered a method of creating a portal between two places (on Earth, as apparently the physics gets tricky when we get to space). Before mass-producing their device, the scientists want you to create software that checks whether two places are connected via a series of their portals. Help them with this project. (Note: Portals are bidirectional, so they can be travelled through in both directions.)</p>
		<p>The input file <strong>DATA5.txt</strong> will contain 5 test sets. The first line of each set is a number 1 ≤ <var>N</var> ≤ 100000 representing the number of commands your software has to run, followed by <var>N</var> commands. Each command can be in one of the following two forms:</p>
		<ul>
			<li><var>p</var> <var>a</var> <var>b</var> – A portal joining <var>a</var> and <var>b</var> is added to the system. <var>a</var> and <var>b</var> are single words, no more than 255 characters each.</li>
			<li><var>q</var> <var>a</var> <var>b</var> – A query asking if <var>a</var> and <var>b</var> are connected by any series of portals built so far. There will be at least one such query in each input set.</li>
		</ul>
		<p>The output file <strong>OUT5.txt</strong> will contain 5 sets of outputs, answering each query command with <strong>connected</strong> or <strong>not connected</strong>.</p>
		<p><em>Note:</em> in the second test case, Waterloo is not connected to itself, as no portals have been built.</p>
		<div id="sample_data">
			<div class="sample_in">
				Sample Input (first 2 shown):
				<pre>7
p Waterloo Toronto
q Waterloo Toronto
p Dubai Toronto
p Montreal Vancouver
q Montreal Waterloo
p Dubai Vancouver
q Montreal Waterloo
1
q Waterloo Waterloo</pre>
			</div>
			<div class="sample_out">
				Sample Output (first 2 shown):
				<pre>connected
not connected
connected
not connected</pre>
			</div>
		</div>
	</body>
</html>
