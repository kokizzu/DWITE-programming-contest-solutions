<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>DWITE - November 2011 - Portals Check</title>
		<link rel="Stylesheet" href="stylish.css" type="text/css">
	</head>
	<body>
		<div id="content">
			<div id="title">DWITE</div>
			<div id="problem_meta">
				<div id="date">November 2011</div>
				<div id="problem_number">Problem 5</div>
			</div>
			<div id="problem_title">Portals Check</div>
			<p>Scientists have finally discovered a method of creating a portal between two places (on Earth, as apparently the physics gets tricky when we get to space). Before mass-producing their device, the scientists want you to create software that checks whether two places are connected via a series of their portals. Help them with this project. (Note: Portals are bidirectional, so they can be travelled through in both directions.)</p>
			<p>The input file <strong>DATA5.txt</strong> will contain 5 test sets. The first line of each set is a number 1 &lt;= <strong>N</strong> &lt;= 100000 representing the number of commands your software has to run, followed by <strong>N</strong> commands. Each command can be in one of the following two forms:</p>
			<ul>
				<li><strong>p a b</strong> -- A portal joining <strong>a</strong> and <strong>b</strong> is added to the system. <strong>a</strong> and <strong>b</strong> are single words, no more than 255 characters each.</li>
				<li><strong>q a b</strong> -- A query asking if <strong>a</strong> and <strong>b</strong> are connected by any series of portals built so far. There will be at least one such query in each input set.</li>
			</ul>
			<p>The output file <strong>OUT5.txt</strong> will contain 5 sets of outputs, answering each query command with <strong>connected</strong> or <strong>not connected</strong>.</p>
			<p><em>Note:</em> in the second test case, Waterloo is not connected to itself, as no portals have been built.</p>
			<div id="sample_data">
				<div class="sample_in">
					Sample Input (first 2 shown):
					<pre>7
p Waterloo Toronto
q Waterloo Toronto
p Dubai Toronto
p Montreal Vancouver
q Montreal Waterloo
p Dubai Vancouver
q Montreal Waterloo
1
q Waterloo Waterloo</pre>
				</div>
				<div class="sample_out">
					Sample Output (first 2 shown):
					<pre>connected
not connected
connected
not connected</pre>
				</div>
				<div style="clear: both;"></div>
			</div>
		</div>
	</body>
</html>
